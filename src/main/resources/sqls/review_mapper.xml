<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="review">

	<select id="review_list" parameterType="String" resultType="ReviewDto">
		SELECT board_no,board_category,board_title,board_writer,board_date_create,board_count,board_like_count 
		FROM board 
		WHERE board_category=#{board_category}
		ORDER BY board_no DESC
	</select>
	
	<select id="review_detail" resultType="ReviewDto" parameterType="int">
		SELECT board_no,board_category,board_writer,board_title,board_content 
		FROM board 
		WHERE board_no=#{board_no}
	</select>
	
	<insert id="review_insert" parameterType="ReviewDto">
		INSERT INTO board VALUES(board_seq.NEXTVAL,#{member_no},#{board_category},#{board_title},#{board_content},#{board_writer},SYSDATE,SYSDATE,0,0)
	</insert>
	
	<update id="review_update" parameterType="ReviewDto">
		UPDATE board SET board_title=#{board_title}, board_content=#{board_content}, board_date_create=SYSDATE WHERE board_no =#{board_no}
	</update>
	
	<delete id="review_delete" parameterType="int">
		DELETE FROM board WHERE board_no=#{board_no}
	</delete>
	
	<update id="updateHit" parameterType="int">
		UPDATE board SET board_count = board_count + 1 WHERE board_no = #{board_no}
	</update>

</mapper>
